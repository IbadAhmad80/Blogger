{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport { server } from \"../../config/index\";\nimport axios from \"axios\";\nexport const useLike = id => {\n  const {\n    0: likes,\n    1: setLikes\n  } = useState(0);\n  useEffect(() => {\n    const newLikes = getLikes(id);\n    setLikes(newLikes);\n  }, [id]);\n  return {\n    likes\n  };\n};\n\nconst getLikes = async id => {\n  const blog = await fetch(`${server}/posts/${id}`);\n  const post = await blog.json();\n  await axios.put(`${server}/posts/${id}`, {\n    likes: post.likes + 1\n  });\n  return post.likes + 1;\n};","map":{"version":3,"sources":["D:/Uni Work/Semester 6/Web Development/blogging-website/next-frontend/blogging-app/components/SinglePost/UseLike.js"],"names":["useState","useEffect","server","axios","useLike","id","likes","setLikes","newLikes","getLikes","blog","fetch","post","json","put"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAIC,EAAD,IAAQ;AAC7B,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC,CAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMO,QAAQ,GAAGC,QAAQ,CAACJ,EAAD,CAAzB;AACAE,IAAAA,QAAQ,CAACC,QAAD,CAAR;AACD,GAHQ,EAGN,CAACH,EAAD,CAHM,CAAT;AAKA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CATM;;AAWP,MAAMG,QAAQ,GAAG,MAAOJ,EAAP,IAAc;AAC7B,QAAMK,IAAI,GAAG,MAAMC,KAAK,CAAE,GAAET,MAAO,UAASG,EAAG,EAAvB,CAAxB;AACA,QAAMO,IAAI,GAAG,MAAMF,IAAI,CAACG,IAAL,EAAnB;AAEA,QAAMV,KAAK,CAACW,GAAN,CAAW,GAAEZ,MAAO,UAASG,EAAG,EAAhC,EAAmC;AAAEC,IAAAA,KAAK,EAAEM,IAAI,CAACN,KAAL,GAAa;AAAtB,GAAnC,CAAN;AACA,SAAOM,IAAI,CAACN,KAAL,GAAa,CAApB;AACD,CAND","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { server } from \"../../config/index\";\r\nimport axios from \"axios\";\r\n\r\nexport const useLike = (id) => {\r\n  const [likes, setLikes] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const newLikes = getLikes(id);\r\n    setLikes(newLikes);\r\n  }, [id]);\r\n\r\n  return { likes };\r\n};\r\n\r\nconst getLikes = async (id) => {\r\n  const blog = await fetch(`${server}/posts/${id}`);\r\n  const post = await blog.json();\r\n\r\n  await axios.put(`${server}/posts/${id}`, { likes: post.likes + 1 });\r\n  return post.likes + 1;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}