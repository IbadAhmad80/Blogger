{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Uni Work\\\\Semester 6\\\\Web Development\\\\blogging-website\\\\next-frontend\\\\blogging-app\\\\pages\\\\posts\\\\[id].js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { server } from \"../../config/index\";\nimport Styles from \"../../styles/SinglePost.module.scss\";\nimport CategoriesContainer from \"../../components/SinglePost/CategoriesContainer\";\nimport ReadMore from \"../../components/HomePage/ReadMore\";\nimport RelatedPost from \"../../components/SinglePost/RelatedBlogs\";\nimport Tag from \"../../components/SinglePost/Tag\";\nimport { useRouter } from \"next/router\";\nimport { getLikes } from \"../../components/SinglePost/LikeHandler\";\nimport axios from \"axios\";\nimport SignIn from \"../../components/SinglePost/SignIn\";\nexport default function SinlgePost({\n  allBlogs,\n  blog,\n  author,\n  category,\n  data\n}) {\n  const router = useRouter();\n  const {\n    0: id,\n    1: setID\n  } = useState(-1);\n  const {\n    0: likes,\n    1: setLikes\n  } = useState(blog.likes);\n  const {\n    0: queryData,\n    1: setQueryData\n  } = useState({\n    blog: blog,\n    sameAuthor: author,\n    allBlogs: allBlogs,\n    sameCategory: category,\n    comments: data\n  }); //loading the blogs upon components mounting\n\n  useEffect(() => {\n    setQueryData({\n      blog: blog,\n      sameAuthor: author,\n      allBlogs: allBlogs,\n      sameCategory: category,\n      comments: data\n    });\n  }, [blog]); //handling likes option\n\n  useEffect(() => {\n    id !== -1 ? getLikes(blog.id).then(data => {\n      setLikes(data);\n    }) : \"\";\n  }, [id]);\n\n  const appendComment = comment => {\n    // console.log(\"new comment\", comment);\n    const {\n      comments\n    } = queryData;\n    comments.push(comment);\n    setQueryData(_objectSpread(_objectSpread({}, queryData), {}, {\n      comments: comments\n    }));\n  };\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.container,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.left_flex,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-2571325189\" + \" \" + \"image\",\n            children: /*#__PURE__*/_jsxDEV(_JSXStyle, {\n              id: \"2571325189\",\n              children: `.image.jsx-2571325189{background-image:url(${\"/assets/\" + \"fisherman.jpg\"});height:28rem;background-repeat:no-repeat;background-size:100% 100%;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxVbmkgV29ya1xcU2VtZXN0ZXIgNlxcV2ViIERldmVsb3BtZW50XFxibG9nZ2luZy13ZWJzaXRlXFxuZXh0LWZyb250ZW5kXFxibG9nZ2luZy1hcHBcXHBhZ2VzXFxwb3N0c1xcW2lkXS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwRDBCLEFBR3NFLG1EQUN0QyxhQUNlLDRCQUNGLDBCQUM1QiIsImZpbGUiOiJEOlxcVW5pIFdvcmtcXFNlbWVzdGVyIDZcXFdlYiBEZXZlbG9wbWVudFxcYmxvZ2dpbmctd2Vic2l0ZVxcbmV4dC1mcm9udGVuZFxcYmxvZ2dpbmctYXBwXFxwYWdlc1xccG9zdHNcXFtpZF0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vY29uZmlnL2luZGV4XCI7XHJcbmltcG9ydCBTdHlsZXMgZnJvbSBcIi4uLy4uL3N0eWxlcy9TaW5nbGVQb3N0Lm1vZHVsZS5zY3NzXCI7XHJcbmltcG9ydCBDYXRlZ29yaWVzQ29udGFpbmVyIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1NpbmdsZVBvc3QvQ2F0ZWdvcmllc0NvbnRhaW5lclwiO1xyXG5pbXBvcnQgUmVhZE1vcmUgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvSG9tZVBhZ2UvUmVhZE1vcmVcIjtcclxuaW1wb3J0IFJlbGF0ZWRQb3N0IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1NpbmdsZVBvc3QvUmVsYXRlZEJsb2dzXCI7XHJcbmltcG9ydCBUYWcgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvU2luZ2xlUG9zdC9UYWdcIjtcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XHJcbmltcG9ydCB7IGdldExpa2VzIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvU2luZ2xlUG9zdC9MaWtlSGFuZGxlclwiO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmltcG9ydCBTaWduSW4gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvU2luZ2xlUG9zdC9TaWduSW5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNpbmxnZVBvc3QoeyBhbGxCbG9ncywgYmxvZywgYXV0aG9yLCBjYXRlZ29yeSwgZGF0YSB9KSB7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3QgW2lkLCBzZXRJRF0gPSB1c2VTdGF0ZSgtMSk7XHJcbiAgY29uc3QgW2xpa2VzLCBzZXRMaWtlc10gPSB1c2VTdGF0ZShibG9nLmxpa2VzKTtcclxuXHJcbiAgY29uc3QgW3F1ZXJ5RGF0YSwgc2V0UXVlcnlEYXRhXSA9IHVzZVN0YXRlKHtcclxuICAgIGJsb2c6IGJsb2csXHJcbiAgICBzYW1lQXV0aG9yOiBhdXRob3IsXHJcbiAgICBhbGxCbG9nczogYWxsQmxvZ3MsXHJcbiAgICBzYW1lQ2F0ZWdvcnk6IGNhdGVnb3J5LFxyXG4gICAgY29tbWVudHM6IGRhdGEsXHJcbiAgfSk7XHJcbiAgLy9sb2FkaW5nIHRoZSBibG9ncyB1cG9uIGNvbXBvbmVudHMgbW91bnRpbmdcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0UXVlcnlEYXRhKHtcclxuICAgICAgYmxvZzogYmxvZyxcclxuICAgICAgc2FtZUF1dGhvcjogYXV0aG9yLFxyXG4gICAgICBhbGxCbG9nczogYWxsQmxvZ3MsXHJcbiAgICAgIHNhbWVDYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgIGNvbW1lbnRzOiBkYXRhLFxyXG4gICAgfSk7XHJcbiAgfSwgW2Jsb2ddKTtcclxuICAvL2hhbmRsaW5nIGxpa2VzIG9wdGlvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZCAhPT0gLTFcclxuICAgICAgPyBnZXRMaWtlcyhibG9nLmlkKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICBzZXRMaWtlcyhkYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgICA6IFwiXCI7XHJcbiAgfSwgW2lkXSk7XHJcblxyXG4gIGNvbnN0IGFwcGVuZENvbW1lbnQgPSAoY29tbWVudCkgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJuZXcgY29tbWVudFwiLCBjb21tZW50KTtcclxuICAgIGNvbnN0IHsgY29tbWVudHMgfSA9IHF1ZXJ5RGF0YTtcclxuICAgIGNvbW1lbnRzLnB1c2goY29tbWVudCk7XHJcbiAgICBzZXRRdWVyeURhdGEoeyAuLi5xdWVyeURhdGEsIGNvbW1lbnRzOiBjb21tZW50cyB9KTtcclxuICB9O1xyXG5cclxuICBpZiAocm91dGVyLmlzRmFsbGJhY2spIHtcclxuICAgIHJldHVybiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj47XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDw+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e1N0eWxlcy5jb250YWluZXJ9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1N0eWxlcy5sZWZ0X2ZsZXh9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImltYWdlXCI+XHJcbiAgICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgICAgICAgLmltYWdlIHtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7XCIvYXNzZXRzL1wiICsgXCJmaXNoZXJtYW4uanBnXCJ9KTtcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyOHJlbTtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT17U3R5bGVzLnNpbmdsZV9wb3N0X3RpdGxlfT57cXVlcnlEYXRhLmJsb2cudGl0bGV9PC9oNT5cclxuXHJcbiAgICAgICAgICAgIDxoNiBjbGFzc05hbWU9e1N0eWxlcy5zaW5nbGVfcG9zdF9jYXB0aW9ufT5cclxuICAgICAgICAgICAgICBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBJbnRlZ2VyXHJcbiAgICAgICAgICAgICAgbW9sZXN0aWUsIGxvcmVtIGV1IGVsZWlmZW5kIGJpYmVuZHVtLCBhdWd1ZSBwdXJ1cyBtb2xsaXMgc2FwaWVuLFxyXG4gICAgICAgICAgICAgIG5vbiByaG9uY3VzIGVyb3MgbGVvIGluIG51bmMuIERvbmVjIGEgbnVsbGEgdmVsIHR1cnBpcyBjb25zZWN0ZXR1clxyXG4gICAgICAgICAgICAgIHRlbXBvciBhYyB2ZWwganVzdG8uIEluIGhhYyBoYWJpdGFzc2UgcGxhdGVhIGRpY3R1bXN0LiBDcmFzIG5lY1xyXG4gICAgICAgICAgICAgIHNvbGxpY2l0dWRpbiBlcm9zLiBOdW5jIGV1IGVuaW0gbm9uIHR1cnBpcyBzYWdpdHRpcyByaG9uY3VzXHJcbiAgICAgICAgICAgICAgY29uc2VjdGV0dXIgaWQgYXVndWUuIE1hdXJpcyBkaWduaXNzaW0gbmVxdWUgZmVsaXMuIFBoYXNlbGx1c1xyXG4gICAgICAgICAgICAgIG1vbGxpcyBtaSBhIHBoYXJldHJhIGN1cnN1cy4gTWFlY2VuYXMgdnVscHV0YXRlIGF1Z3VlIHBsYWNlcmF0XHJcbiAgICAgICAgICAgICAgbGFjdXMgbWF0dGlzLCBuZWMgb3JuYXJlIHJpc3VzIHNvbGxpY2l0dWRpbi4gTWF1cmlzIGV1IHB1bHZpbmFyXHJcbiAgICAgICAgICAgICAgdGVsbHVzLCBldSBsdWN0dXMgbmlzbC4gUGVsbGVudGVzcXVlIHN1c2NpcGl0IG1pIGV1IHZhcml1c1xyXG4gICAgICAgICAgICAgIHB1bHZpbmFyLiBBZW5lYW4gdnVscHV0YXRlLCBtYXNzYSBlZ2V0IGVsZW1lbnR1bSBmaW5pYnVzLCBpcHN1bVxyXG4gICAgICAgICAgICAgIGFyY3UgY29tbW9kbyBlc3QsIHV0IG1hdHRpcyBlcm9zIG9yY2kgYWMgcmlzdXMuIFN1c3BlbmRpc3NlXHJcbiAgICAgICAgICAgICAgb3JuYXJlLCBtYXNzYSBpbiBmZXVnaWF0IGZhY2lsaXNpcywgZXJvcyBuaXNsIGF1Y3RvciBsYWN1cyxcclxuICAgICAgICAgICAgICBsYW9yZWV0IHRlbXB1cyBlbGl0IGRvbG9yIGV1IGxvcmVtLiBOdW5jIGEgYXJjdSBzdXNjaXBpdCwgc3VzY2lwaXRcclxuICAgICAgICAgICAgICBxdWFtIHF1aXMsIHNlbXBlciBhdWd1ZS4gUXVpc3F1ZSBhcmN1IG51bGxhLCBjb252YWxsaXMgbmVjIG9yY2lcclxuICAgICAgICAgICAgICB2ZWwsIHN1c2NpcGl0IGVsZW1lbnR1bSBvZGlvLiBDdXJhYml0dXIgdm9sdXRwYXQgdmVsaXQgbm9uIGRpYW1cclxuICAgICAgICAgICAgICB0aW5jaWR1bnQgc29kYWxlcy4gTnVsbGFtIHNhcGllbiBsaWJlcm8sIGJpYmVuZHVtIG5lYyB2aXZlcnJhIGluLFxyXG4gICAgICAgICAgICAgIGlhY3VsaXMgdXQgZXJvcy5cclxuICAgICAgICAgICAgPC9oNj5cclxuICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT17U3R5bGVzLnNpbmdsZV9wb3N0X3RpdGxlfT5cclxuICAgICAgICAgICAgICBIZXJlIGlzIHdoYXQgd2UndmUgbGVhcm5lZCBmcm9tIHRoaXMgYmxvZ1xyXG4gICAgICAgICAgICA8L2g1PlxyXG4gICAgICAgICAgICA8aDYgY2xhc3NOYW1lPXtTdHlsZXMuc2luZ2xlX3Bvc3RfY2FwdGlvbn0+XHJcbiAgICAgICAgICAgICAgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gSW50ZWdlclxyXG4gICAgICAgICAgICAgIG1vbGVzdGllLCBsb3JlbSBldSBlbGVpZmVuZCBiaWJlbmR1bSwgYXVndWUgcHVydXMgbW9sbGlzIHNhcGllbixcclxuICAgICAgICAgICAgICBub24gcmhvbmN1cyBlcm9zIGxlbyBpbiBudW5jLiBEb25lYyBhIG51bGxhIHZlbCB0dXJwaXMgY29uc2VjdGV0dXJcclxuICAgICAgICAgICAgICB0ZW1wb3IgYWMgdmVsIGp1c3RvLiBJbiBoYWMgaGFiaXRhc3NlIHBsYXRlYSBkaWN0dW1zdC4gQ3JhcyBuZWNcclxuICAgICAgICAgICAgICBzb2xsaWNpdHVkaW4gZXJvcy4gTnVuYyBldSBlbmltIG5vbiB0dXJwaXMgc2FnaXR0aXMgcmhvbmN1c1xyXG4gICAgICAgICAgICAgIGNvbnNlY3RldHVyIGlkIGF1Z3VlLiBNYXVyaXMgZGlnbmlzc2ltIG5lcXVlIGZlbGlzLiBQaGFzZWxsdXNcclxuICAgICAgICAgICAgICBtb2xsaXMgbWkgYSBwaGFyZXRyYSBjdXJzdXMuIE1hZWNlbmFzIHZ1bHB1dGF0ZSBhdWd1ZSBwbGFjZXJhdFxyXG4gICAgICAgICAgICAgIGxhY3VzIG1hdHRpcywgbmVjIG9ybmFyZSByaXN1cyBzb2xsaWNpdHVkaW4uIE1hdXJpcyBldSBwdWx2aW5hclxyXG4gICAgICAgICAgICAgIHRlbGx1cywgZXUgbHVjdHVzIG5pc2wuIFBlbGxlbnRlc3F1ZSBzdXNjaXBpdCBtaSBldSB2YXJpdXNcclxuICAgICAgICAgICAgICBwdWx2aW5hci4gQWVuZWFuIHZ1bHB1dGF0ZSwgbWFzc2EgZWdldCBlbGVtZW50dW0gZmluaWJ1cywgaXBzdW1cclxuICAgICAgICAgICAgICBhcmN1IGNvbW1vZG8gZXN0LCB1dCBtYXR0aXMgZXJvcyBvcmNpIGFjIHJpc3VzLiBTdXNwZW5kaXNzZVxyXG4gICAgICAgICAgICAgIG9ybmFyZSwgbWFzc2EgaW4gZmV1Z2lhdCBmYWNpbGlzaXMsIGVyb3MgbmlzbCBhdWN0b3IgbGFjdXMsXHJcbiAgICAgICAgICAgICAgbGFvcmVldCB0ZW1wdXMgZWxpdCBkb2xvciBldSBsb3JlbS4gTnVuYyBhIGFyY3Ugc3VzY2lwaXQsIHN1c2NpcGl0XHJcbiAgICAgICAgICAgICAgcXVhbSBxdWlzLCBzZW1wZXIgYXVndWUuIFF1aXNxdWUgYXJjdSBudWxsYSwgY29udmFsbGlzIG5lYyBvcmNpXHJcbiAgICAgICAgICAgICAgdmVsLCBzdXNjaXBpdCBlbGVtZW50dW0gb2Rpby4gQ3VyYWJpdHVyIHZvbHV0cGF0IHZlbGl0IG5vbiBkaWFtXHJcbiAgICAgICAgICAgICAgdGluY2lkdW50IHNvZGFsZXMuIE51bGxhbSBzYXBpZW4gbGliZXJvLCBiaWJlbmR1bSBuZWMgdml2ZXJyYSBpbixcclxuICAgICAgICAgICAgICBpYWN1bGlzIHV0IGVyb3MuXHJcbiAgICAgICAgICAgIDwvaDY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtTdHlsZXMuY2F0ZWdvcnl9PlxyXG4gICAgICAgICAgICAgIDxSZWxhdGVkUG9zdCBwb3N0cz17cXVlcnlEYXRhLnNhbWVBdXRob3J9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldElEKE1hdGgucmFuZG9tKCkpfT5cclxuICAgICAgICAgICAgICBMaWtlICgge2xpa2VzfSApXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxTaWduSW5cclxuICAgICAgICAgICAgICAgIGJsb2dfaWQ9e2Jsb2cuaWR9XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRDb21tZW50PXthcHBlbmRDb21tZW50fVxyXG4gICAgICAgICAgICAgICAgcHJvZmlsZT17c2V0SXNQcm9maWxlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIHtxdWVyeURhdGEuY29tbWVudHMgJiZcclxuICAgICAgICAgICAgICAgIHF1ZXJ5RGF0YS5jb21tZW50c1xyXG4gICAgICAgICAgICAgICAgICAuc2xpY2UocXVlcnlEYXRhLmNvbW1lbnRzLmxlbmd0aCAtIDIsIHF1ZXJ5RGF0YS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgIC5tYXAoKGNvbW1lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1N0eWxlcy5jb21tZW50c30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtTdHlsZXMuY29tbWVudF9tYWtlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbW1lbnQucHVibGlzaGVyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj57Y29tbWVudC5jb21tZW50fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1N0eWxlcy5yaWdodF9mbGV4fT5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8Q2F0ZWdvcmllc0NvbnRhaW5lciBibG9ncz17cXVlcnlEYXRhLnNhbWVDYXRlZ29yeS5zbGljZSgwLCA3KX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtTdHlsZXMucmVhZF9tb3JlfT5cclxuICAgICAgICAgICAgICA8UmVhZE1vcmUgYmxvZ3M9e3F1ZXJ5RGF0YS5hbGxCbG9nc30gdHlwZT1cInNpbmdsZV9wb3N0XCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtTdHlsZXMudGFnX3NlY3Rpb259PlxyXG4gICAgICAgICAgICAgIDxoNiBjbGFzc05hbWU9e1N0eWxlcy50YWdfaGVhZGluZ30+VGFncyBDbG91ZDwvaDY+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJncmlkXCIsXHJcbiAgICAgICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMWZyIDFmclwiLFxyXG4gICAgICAgICAgICAgICAgICBjb2x1bW5HYXA6IFwiLjdyZW1cIixcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPFRhZyB0YWc9e1wiRW50ZXJ0YWlubWVudFwifSAvPlxyXG4gICAgICAgICAgICAgICAgPFRhZyB0YWc9e1wiVGVjaG5vbG9neVwifSAvPlxyXG4gICAgICAgICAgICAgICAgPFRhZyB0YWc9e1wiSGVhbHRoXCJ9IC8+XHJcbiAgICAgICAgICAgICAgICA8VGFnIHRhZz17XCJTcG9ydHNcIn0gLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC8+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gYXN5bmMgKGNvbnRleHQpID0+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtzZXJ2ZXJ9L3Bvc3RzL2ApO1xyXG4gIGNvbnN0IGFsbEJsb2dzID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICBsZXQgYmxvZ0RhdGEgPSBhd2FpdCBmZXRjaChgJHtzZXJ2ZXJ9L3Bvc3RzLyR7Y29udGV4dC5wYXJhbXMuaWR9YCk7XHJcbiAgbGV0IGJsb2cgPSBhd2FpdCBibG9nRGF0YS5qc29uKCk7XHJcbiAgbGV0IGF1dGhvciA9IGFsbEJsb2dzLmZpbHRlcigoYXJ0aWNsZSkgPT4gYXJ0aWNsZS5hdXRob3IgPT09IGJsb2cuYXV0aG9yKTtcclxuICBsZXQgc2FtZUNhdGVnb3J5ID0gYXdhaXQgZmV0Y2goXHJcbiAgICBgJHtzZXJ2ZXJ9L3Bvc3RzL2NhdGVnb3J5LyR7YmxvZy5jYXRlZ29yaWVzWzBdLm5hbWV9YFxyXG4gICk7XHJcbiAgbGV0IGNhdGVnb3J5ID0gYXdhaXQgc2FtZUNhdGVnb3J5Lmpzb24oKTtcclxuICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldChcclxuICAgIGAke3NlcnZlcn0vY29tbWVudHMvYmxvZ3MvJHtjb250ZXh0LnBhcmFtcy5pZH1gXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHJldmFsaWRhdGU6IDUsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICBhbGxCbG9ncyxcclxuICAgICAgYmxvZyxcclxuICAgICAgYXV0aG9yLFxyXG4gICAgICBjYXRlZ29yeSxcclxuICAgICAgZGF0YSxcclxuICAgIH0sXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQYXRocyA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtzZXJ2ZXJ9L3Bvc3RzL2ApO1xyXG4gIGNvbnN0IGFsbEJsb2dzID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICBjb25zdCBpZHMgPSBhbGxCbG9ncy5tYXAoKGJsb2cpID0+IGJsb2cuaWQpO1xyXG4gIGNvbnN0IHBhdGhzID0gaWRzLm1hcCgoaWQpID0+ICh7XHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgaWQ6IGlkLnRvU3RyaW5nKCksXHJcbiAgICB9LFxyXG4gIH0pKTtcclxuICByZXR1cm4ge1xyXG4gICAgcGF0aHMsXHJcbiAgICBmYWxsYmFjazogZmFsc2UsXHJcbiAgfTtcclxufTtcclxuIl19 */\n/*@ sourceURL=D:\\\\Uni Work\\\\Semester 6\\\\Web Development\\\\blogging-website\\\\next-frontend\\\\blogging-app\\\\pages\\\\posts\\\\[id].js */`\n            }, void 0, false, void 0, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: Styles.single_post_title,\n            children: queryData.blog.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: Styles.single_post_caption,\n            children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer molestie, lorem eu eleifend bibendum, augue purus mollis sapien, non rhoncus eros leo in nunc. Donec a nulla vel turpis consectetur tempor ac vel justo. In hac habitasse platea dictumst. Cras nec sollicitudin eros. Nunc eu enim non turpis sagittis rhoncus consectetur id augue. Mauris dignissim neque felis. Phasellus mollis mi a pharetra cursus. Maecenas vulputate augue placerat lacus mattis, nec ornare risus sollicitudin. Mauris eu pulvinar tellus, eu luctus nisl. Pellentesque suscipit mi eu varius pulvinar. Aenean vulputate, massa eget elementum finibus, ipsum arcu commodo est, ut mattis eros orci ac risus. Suspendisse ornare, massa in feugiat facilisis, eros nisl auctor lacus, laoreet tempus elit dolor eu lorem. Nunc a arcu suscipit, suscipit quam quis, semper augue. Quisque arcu nulla, convallis nec orci vel, suscipit elementum odio. Curabitur volutpat velit non diam tincidunt sodales. Nullam sapien libero, bibendum nec viverra in, iaculis ut eros.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: Styles.single_post_title,\n            children: \"Here is what we've learned from this blog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: Styles.single_post_caption,\n            children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer molestie, lorem eu eleifend bibendum, augue purus mollis sapien, non rhoncus eros leo in nunc. Donec a nulla vel turpis consectetur tempor ac vel justo. In hac habitasse platea dictumst. Cras nec sollicitudin eros. Nunc eu enim non turpis sagittis rhoncus consectetur id augue. Mauris dignissim neque felis. Phasellus mollis mi a pharetra cursus. Maecenas vulputate augue placerat lacus mattis, nec ornare risus sollicitudin. Mauris eu pulvinar tellus, eu luctus nisl. Pellentesque suscipit mi eu varius pulvinar. Aenean vulputate, massa eget elementum finibus, ipsum arcu commodo est, ut mattis eros orci ac risus. Suspendisse ornare, massa in feugiat facilisis, eros nisl auctor lacus, laoreet tempus elit dolor eu lorem. Nunc a arcu suscipit, suscipit quam quis, semper augue. Quisque arcu nulla, convallis nec orci vel, suscipit elementum odio. Curabitur volutpat velit non diam tincidunt sodales. Nullam sapien libero, bibendum nec viverra in, iaculis ut eros.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.category,\n            children: /*#__PURE__*/_jsxDEV(RelatedPost, {\n              posts: queryData.sameAuthor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setID(Math.random()),\n            children: [\"Like ( \", likes, \" )\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(SignIn, {\n              blog_id: blog.id,\n              appendComment: appendComment,\n              profile: setIsProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: queryData.comments && queryData.comments.slice(queryData.comments.length - 2, queryData.length).map(comment => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: Styles.comments,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: Styles.comment_maker,\n                  children: comment.publisher.charAt(0).toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: comment.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.right_flex,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(CategoriesContainer, {\n              blogs: queryData.sameCategory.slice(0, 7)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.read_more,\n            children: /*#__PURE__*/_jsxDEV(ReadMore, {\n              blogs: queryData.allBlogs,\n              type: \"single_post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.tag_section,\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: Styles.tag_heading,\n              children: \"Tags Cloud\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                columnGap: \".7rem\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Tag, {\n                tag: \"Entertainment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tag, {\n                tag: \"Technology\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tag, {\n                tag: \"Health\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tag, {\n                tag: \"Sports\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n}\nexport const getStaticProps = async context => {\n  const res = await fetch(`${server}/posts/`);\n  const allBlogs = await res.json();\n  let blogData = await fetch(`${server}/posts/${context.params.id}`);\n  let blog = await blogData.json();\n  let author = allBlogs.filter(article => article.author === blog.author);\n  let sameCategory = await fetch(`${server}/posts/category/${blog.categories[0].name}`);\n  let category = await sameCategory.json();\n  const {\n    data\n  } = await axios.get(`${server}/comments/blogs/${context.params.id}`);\n  return {\n    revalidate: 5,\n    props: {\n      allBlogs,\n      blog,\n      author,\n      category,\n      data\n    }\n  };\n};\nexport const getStaticPaths = async () => {\n  const res = await fetch(`${server}/posts/`);\n  const allBlogs = await res.json();\n  const ids = allBlogs.map(blog => blog.id);\n  const paths = ids.map(id => ({\n    params: {\n      id: id.toString()\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n};","map":{"version":3,"sources":["D:/Uni Work/Semester 6/Web Development/blogging-website/next-frontend/blogging-app/pages/posts/[id].js"],"names":["React","useState","useEffect","server","Styles","CategoriesContainer","ReadMore","RelatedPost","Tag","useRouter","getLikes","axios","SignIn","SinlgePost","allBlogs","blog","author","category","data","router","id","setID","likes","setLikes","queryData","setQueryData","sameAuthor","sameCategory","comments","then","appendComment","comment","push","isFallback","container","left_flex","single_post_title","title","single_post_caption","Math","random","setIsProfile","slice","length","map","comment_maker","publisher","charAt","toUpperCase","right_flex","read_more","tag_section","tag_heading","display","gridTemplateColumns","columnGap","getStaticProps","context","res","fetch","json","blogData","params","filter","article","categories","name","get","revalidate","props","getStaticPaths","ids","paths","toString","fallback"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { server } from \"../../config/index\";\r\nimport Styles from \"../../styles/SinglePost.module.scss\";\r\nimport CategoriesContainer from \"../../components/SinglePost/CategoriesContainer\";\r\nimport ReadMore from \"../../components/HomePage/ReadMore\";\r\nimport RelatedPost from \"../../components/SinglePost/RelatedBlogs\";\r\nimport Tag from \"../../components/SinglePost/Tag\";\r\nimport { useRouter } from \"next/router\";\r\nimport { getLikes } from \"../../components/SinglePost/LikeHandler\";\r\nimport axios from \"axios\";\r\nimport SignIn from \"../../components/SinglePost/SignIn\";\r\n\r\nexport default function SinlgePost({ allBlogs, blog, author, category, data }) {\r\n  const router = useRouter();\r\n  const [id, setID] = useState(-1);\r\n  const [likes, setLikes] = useState(blog.likes);\r\n\r\n  const [queryData, setQueryData] = useState({\r\n    blog: blog,\r\n    sameAuthor: author,\r\n    allBlogs: allBlogs,\r\n    sameCategory: category,\r\n    comments: data,\r\n  });\r\n  //loading the blogs upon components mounting\r\n  useEffect(() => {\r\n    setQueryData({\r\n      blog: blog,\r\n      sameAuthor: author,\r\n      allBlogs: allBlogs,\r\n      sameCategory: category,\r\n      comments: data,\r\n    });\r\n  }, [blog]);\r\n  //handling likes option\r\n  useEffect(() => {\r\n    id !== -1\r\n      ? getLikes(blog.id).then((data) => {\r\n          setLikes(data);\r\n        })\r\n      : \"\";\r\n  }, [id]);\r\n\r\n  const appendComment = (comment) => {\r\n    // console.log(\"new comment\", comment);\r\n    const { comments } = queryData;\r\n    comments.push(comment);\r\n    setQueryData({ ...queryData, comments: comments });\r\n  };\r\n\r\n  if (router.isFallback) {\r\n    return <div>Loading...</div>;\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className={Styles.container}>\r\n          <div className={Styles.left_flex}>\r\n            <div className=\"image\">\r\n              <style jsx>{`\r\n                .image {\r\n                  background-image: url(${\"/assets/\" + \"fisherman.jpg\"});\r\n                  height: 28rem;\r\n                  background-repeat: no-repeat;\r\n                  background-size: 100% 100%;\r\n                }\r\n              `}</style>\r\n            </div>\r\n            <h5 className={Styles.single_post_title}>{queryData.blog.title}</h5>\r\n\r\n            <h6 className={Styles.single_post_caption}>\r\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\r\n              molestie, lorem eu eleifend bibendum, augue purus mollis sapien,\r\n              non rhoncus eros leo in nunc. Donec a nulla vel turpis consectetur\r\n              tempor ac vel justo. In hac habitasse platea dictumst. Cras nec\r\n              sollicitudin eros. Nunc eu enim non turpis sagittis rhoncus\r\n              consectetur id augue. Mauris dignissim neque felis. Phasellus\r\n              mollis mi a pharetra cursus. Maecenas vulputate augue placerat\r\n              lacus mattis, nec ornare risus sollicitudin. Mauris eu pulvinar\r\n              tellus, eu luctus nisl. Pellentesque suscipit mi eu varius\r\n              pulvinar. Aenean vulputate, massa eget elementum finibus, ipsum\r\n              arcu commodo est, ut mattis eros orci ac risus. Suspendisse\r\n              ornare, massa in feugiat facilisis, eros nisl auctor lacus,\r\n              laoreet tempus elit dolor eu lorem. Nunc a arcu suscipit, suscipit\r\n              quam quis, semper augue. Quisque arcu nulla, convallis nec orci\r\n              vel, suscipit elementum odio. Curabitur volutpat velit non diam\r\n              tincidunt sodales. Nullam sapien libero, bibendum nec viverra in,\r\n              iaculis ut eros.\r\n            </h6>\r\n            <h5 className={Styles.single_post_title}>\r\n              Here is what we've learned from this blog\r\n            </h5>\r\n            <h6 className={Styles.single_post_caption}>\r\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer\r\n              molestie, lorem eu eleifend bibendum, augue purus mollis sapien,\r\n              non rhoncus eros leo in nunc. Donec a nulla vel turpis consectetur\r\n              tempor ac vel justo. In hac habitasse platea dictumst. Cras nec\r\n              sollicitudin eros. Nunc eu enim non turpis sagittis rhoncus\r\n              consectetur id augue. Mauris dignissim neque felis. Phasellus\r\n              mollis mi a pharetra cursus. Maecenas vulputate augue placerat\r\n              lacus mattis, nec ornare risus sollicitudin. Mauris eu pulvinar\r\n              tellus, eu luctus nisl. Pellentesque suscipit mi eu varius\r\n              pulvinar. Aenean vulputate, massa eget elementum finibus, ipsum\r\n              arcu commodo est, ut mattis eros orci ac risus. Suspendisse\r\n              ornare, massa in feugiat facilisis, eros nisl auctor lacus,\r\n              laoreet tempus elit dolor eu lorem. Nunc a arcu suscipit, suscipit\r\n              quam quis, semper augue. Quisque arcu nulla, convallis nec orci\r\n              vel, suscipit elementum odio. Curabitur volutpat velit non diam\r\n              tincidunt sodales. Nullam sapien libero, bibendum nec viverra in,\r\n              iaculis ut eros.\r\n            </h6>\r\n            <div className={Styles.category}>\r\n              <RelatedPost posts={queryData.sameAuthor} />\r\n            </div>\r\n            <button onClick={() => setID(Math.random())}>\r\n              Like ( {likes} )\r\n            </button>\r\n            <div>\r\n              <SignIn\r\n                blog_id={blog.id}\r\n                appendComment={appendComment}\r\n                profile={setIsProfile}\r\n              />\r\n            </div>\r\n            <div>\r\n              {queryData.comments &&\r\n                queryData.comments\r\n                  .slice(queryData.comments.length - 2, queryData.length)\r\n                  .map((comment) => {\r\n                    return (\r\n                      <div className={Styles.comments}>\r\n                        <div className={Styles.comment_maker}>\r\n                          {comment.publisher.charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div>{comment.comment}</div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={Styles.right_flex}>\r\n            <div>\r\n              <CategoriesContainer blogs={queryData.sameCategory.slice(0, 7)} />\r\n            </div>\r\n            <div className={Styles.read_more}>\r\n              <ReadMore blogs={queryData.allBlogs} type=\"single_post\" />\r\n            </div>\r\n            <div className={Styles.tag_section}>\r\n              <h6 className={Styles.tag_heading}>Tags Cloud</h6>\r\n              <div\r\n                style={{\r\n                  display: \"grid\",\r\n                  gridTemplateColumns: \"1fr 1fr\",\r\n                  columnGap: \".7rem\",\r\n                }}\r\n              >\r\n                <Tag tag={\"Entertainment\"} />\r\n                <Tag tag={\"Technology\"} />\r\n                <Tag tag={\"Health\"} />\r\n                <Tag tag={\"Sports\"} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport const getStaticProps = async (context) => {\r\n  const res = await fetch(`${server}/posts/`);\r\n  const allBlogs = await res.json();\r\n  let blogData = await fetch(`${server}/posts/${context.params.id}`);\r\n  let blog = await blogData.json();\r\n  let author = allBlogs.filter((article) => article.author === blog.author);\r\n  let sameCategory = await fetch(\r\n    `${server}/posts/category/${blog.categories[0].name}`\r\n  );\r\n  let category = await sameCategory.json();\r\n  const { data } = await axios.get(\r\n    `${server}/comments/blogs/${context.params.id}`\r\n  );\r\n\r\n  return {\r\n    revalidate: 5,\r\n    props: {\r\n      allBlogs,\r\n      blog,\r\n      author,\r\n      category,\r\n      data,\r\n    },\r\n  };\r\n};\r\n\r\nexport const getStaticPaths = async () => {\r\n  const res = await fetch(`${server}/posts/`);\r\n  const allBlogs = await res.json();\r\n  const ids = allBlogs.map((blog) => blog.id);\r\n  const paths = ids.map((id) => ({\r\n    params: {\r\n      id: id.toString(),\r\n    },\r\n  }));\r\n  return {\r\n    paths,\r\n    fallback: false,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}