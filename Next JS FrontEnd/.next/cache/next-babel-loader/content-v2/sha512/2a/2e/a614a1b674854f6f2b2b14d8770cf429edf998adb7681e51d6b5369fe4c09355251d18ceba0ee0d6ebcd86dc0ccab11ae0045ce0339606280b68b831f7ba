{"ast":null,"code":"import Stripe from \"stripe\";\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY, {\n  apiVersion: \"2020-03-02\"\n});\nexport default (async (req, res) => {\n  const {\n    id\n  } = req.query;\n  const session = await stripe.checkout.sessions.retrieve(id, {\n    expand: [\"payment_intent\"]\n  });\n  res.status(200).json({\n    session\n  });\n});","map":{"version":3,"sources":["D:/Uni Work/Semester 6/Web Development/blogging-website/next-frontend/blogging-app/pages/api/checkout/[id].js"],"names":["Stripe","stripe","process","env","STRIPE_SECRET_KEY","apiVersion","req","res","id","query","session","checkout","sessions","retrieve","expand","status","json"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,MAAMC,MAAM,GAAG,IAAID,MAAJ,CAAWE,OAAO,CAACC,GAAR,CAAYC,iBAAvB,EAA0C;AACvDC,EAAAA,UAAU,EAAE;AAD2C,CAA1C,CAAf;AAIA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAASF,GAAG,CAACG,KAAnB;AACA,QAAMC,OAAO,GAAG,MAAMT,MAAM,CAACU,QAAP,CAAgBC,QAAhB,CAAyBC,QAAzB,CAAkCL,EAAlC,EAAsC;AAC1DM,IAAAA,MAAM,EAAE,CAAC,gBAAD;AADkD,GAAtC,CAAtB;AAGAP,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEN,IAAAA;AAAF,GAArB;AACD,CAND","sourcesContent":["import Stripe from \"stripe\";\r\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY, {\r\n  apiVersion: \"2020-03-02\",\r\n});\r\n\r\nexport default async (req, res) => {\r\n  const { id } = req.query;\r\n  const session = await stripe.checkout.sessions.retrieve(id, {\r\n    expand: [\"payment_intent\"],\r\n  });\r\n  res.status(200).json({ session });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}