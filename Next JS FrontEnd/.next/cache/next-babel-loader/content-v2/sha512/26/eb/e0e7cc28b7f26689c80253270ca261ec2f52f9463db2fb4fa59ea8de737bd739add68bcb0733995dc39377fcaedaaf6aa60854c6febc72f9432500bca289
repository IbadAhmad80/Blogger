{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Uni Work\\\\Semester 6\\\\Web Development\\\\blogging-website\\\\next-frontend\\\\blogging-app\\\\pages\\\\posts\\\\[id].js\";\nimport React, { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { server } from \"../../config/index\";\nexport default function SinlgePost({\n  allBlogs,\n  blog,\n  author\n}) {\n  const router = useRouter;\n  const id = router().query.id; // const router = useRouter;\n\n  const {\n    0: queryData,\n    1: setQueryData\n  } = useState({\n    blog: blog,\n    sameAuthor: author,\n    allBlogs: allBlogs\n  });\n  console.log(queryData, router().query.id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 10\n  }, this);\n}\nexport const getStaticProps = async () => {\n  // const router = useRouter();\n  // console.log(\"in server side\", router);\n  const res = await fetch(`${server}/posts/`);\n  console.log(`res : `, res);\n  const allBlogs = await res.json();\n  let blog = allBlogs.filter(blog => blog.id === router().query.id);\n  let author = allBlogs.filter(article => article.author === blog.author);\n  return {\n    revalidate: 5,\n    props: {\n      allBlogs,\n      blog,\n      author\n    }\n  };\n};\nexport const getStaticPaths = async context => {\n  const res = await fetch(`${server}/posts/`); // console.log(\"id is\", id);\n\n  console.log(\"context is\", context.params);\n  const allBlogs = await res.json();\n  const ids = allBlogs.map(blog => blog.id);\n  console.log(`ids are ${ids}`);\n  const paths = ids.map(id => ({\n    params: {\n      id: id.toString()\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n};","map":{"version":3,"sources":["D:/Uni Work/Semester 6/Web Development/blogging-website/next-frontend/blogging-app/pages/posts/[id].js"],"names":["React","useState","useRouter","server","SinlgePost","allBlogs","blog","author","router","id","query","queryData","setQueryData","sameAuthor","console","log","getStaticProps","res","fetch","json","filter","article","revalidate","props","getStaticPaths","context","params","ids","map","paths","toString","fallback"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,eAAe,SAASC,UAAT,CAAoB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,IAAZ;AAAkBC,EAAAA;AAAlB,CAApB,EAAgD;AAC7D,QAAMC,MAAM,GAAGN,SAAf;AACA,QAAMO,EAAE,GAAGD,MAAM,GAAGE,KAAT,CAAeD,EAA1B,CAF6D,CAG7D;;AACA,QAAM;AAAA,OAACE,SAAD;AAAA,OAAYC;AAAZ,MAA4BX,QAAQ,CAAC;AACzCK,IAAAA,IAAI,EAAEA,IADmC;AAEzCO,IAAAA,UAAU,EAAEN,MAF6B;AAGzCF,IAAAA,QAAQ,EAAEA;AAH+B,GAAD,CAA1C;AAMAS,EAAAA,OAAO,CAACC,GAAR,CAAYJ,SAAZ,EAAuBH,MAAM,GAAGE,KAAT,CAAeD,EAAtC;AACA,sBAAO;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AAED,OAAO,MAAMO,cAAc,GAAG,YAAY;AACxC;AACA;AACA,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEf,MAAO,SAAX,CAAvB;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAa,QAAb,EAAsBE,GAAtB;AACA,QAAMZ,QAAQ,GAAG,MAAMY,GAAG,CAACE,IAAJ,EAAvB;AACA,MAAIb,IAAI,GAAGD,QAAQ,CAACe,MAAT,CAAiBd,IAAD,IAAUA,IAAI,CAACG,EAAL,KAAYD,MAAM,GAAGE,KAAT,CAAeD,EAArD,CAAX;AACA,MAAIF,MAAM,GAAGF,QAAQ,CAACe,MAAT,CAAiBC,OAAD,IAAaA,OAAO,CAACd,MAAR,KAAmBD,IAAI,CAACC,MAArD,CAAb;AAEA,SAAO;AACLe,IAAAA,UAAU,EAAE,CADP;AAELC,IAAAA,KAAK,EAAE;AACLlB,MAAAA,QADK;AAELC,MAAAA,IAFK;AAGLC,MAAAA;AAHK;AAFF,GAAP;AAQD,CAjBM;AAmBP,OAAO,MAAMiB,cAAc,GAAG,MAAOC,OAAP,IAAmB;AAC/C,QAAMR,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEf,MAAO,SAAX,CAAvB,CAD+C,CAE/C;;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BU,OAAO,CAACC,MAAlC;AAEA,QAAMrB,QAAQ,GAAG,MAAMY,GAAG,CAACE,IAAJ,EAAvB;AACA,QAAMQ,GAAG,GAAGtB,QAAQ,CAACuB,GAAT,CAActB,IAAD,IAAUA,IAAI,CAACG,EAA5B,CAAZ;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAa,WAAUY,GAAI,EAA3B;AACA,QAAME,KAAK,GAAGF,GAAG,CAACC,GAAJ,CAASnB,EAAD,KAAS;AAC7BiB,IAAAA,MAAM,EAAE;AACNjB,MAAAA,EAAE,EAAEA,EAAE,CAACqB,QAAH;AADE;AADqB,GAAT,CAAR,CAAd;AAKA,SAAO;AACLD,IAAAA,KADK;AAELE,IAAAA,QAAQ,EAAE;AAFL,GAAP;AAID,CAjBM","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { server } from \"../../config/index\";\r\n\r\nexport default function SinlgePost({ allBlogs, blog, author }) {\r\n  const router = useRouter;\r\n  const id = router().query.id;\r\n  // const router = useRouter;\r\n  const [queryData, setQueryData] = useState({\r\n    blog: blog,\r\n    sameAuthor: author,\r\n    allBlogs: allBlogs,\r\n  });\r\n\r\n  console.log(queryData, router().query.id);\r\n  return <div></div>;\r\n}\r\n\r\nexport const getStaticProps = async () => {\r\n  // const router = useRouter();\r\n  // console.log(\"in server side\", router);\r\n  const res = await fetch(`${server}/posts/`);\r\n  console.log(`res : `, res);\r\n  const allBlogs = await res.json();\r\n  let blog = allBlogs.filter((blog) => blog.id === router().query.id);\r\n  let author = allBlogs.filter((article) => article.author === blog.author);\r\n\r\n  return {\r\n    revalidate: 5,\r\n    props: {\r\n      allBlogs,\r\n      blog,\r\n      author,\r\n    },\r\n  };\r\n};\r\n\r\nexport const getStaticPaths = async (context) => {\r\n  const res = await fetch(`${server}/posts/`);\r\n  // console.log(\"id is\", id);\r\n  console.log(\"context is\", context.params);\r\n\r\n  const allBlogs = await res.json();\r\n  const ids = allBlogs.map((blog) => blog.id);\r\n  console.log(`ids are ${ids}`);\r\n  const paths = ids.map((id) => ({\r\n    params: {\r\n      id: id.toString(),\r\n    },\r\n  }));\r\n  return {\r\n    paths,\r\n    fallback: false,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}